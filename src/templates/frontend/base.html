{% load staticfiles %}
<!DOCTYPE html>
<html>
<head>
    <link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons' rel="stylesheet">
    <link href="{% static 'css/vuetify.min.css' %}" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
    <title>{% block title %}TA Portal - IIT Jodhpur{% endblock %}</title>
</head>
<body>
<div id="app">
    {% block content %}
        <v-app>
            <v-navigation-drawer
                    :clipped="$vuetify.breakpoint.lgAndUp"
                    v-model="drawer"
                    fixed
                    app>
                <v-list dense>
                    <template>
                        <v-list-tile href="{% url 'frontend:dashboard' %}">
                            <v-list-tile-action>
                                <v-icon>home</v-icon>
                            </v-list-tile-action>
                            <v-list-tile-content>
                                <v-list-tile-title>
                                    Dashboard
                                </v-list-tile-title>
                            </v-list-tile-content>
                        </v-list-tile>
                        <v-layout row align-center>
                            <v-flex xs6>
                                <v-subheader>
                                    Assignments
                                </v-subheader>
                            </v-flex>
                        </v-layout>
                        <v-list-tile @click="">
                            <v-list-tile-action>
                                <v-icon>content_copy</v-icon>
                            </v-list-tile-action>
                            <v-list-tile-content>
                                <v-list-tile-title>
                                    Current Assignments
                                </v-list-tile-title>
                            </v-list-tile-content>
                        </v-list-tile>
                        <v-list-tile @click="">
                            <v-list-tile-action>
                                <v-icon>content_copy</v-icon>
                            </v-list-tile-action>
                            <v-list-tile-content>
                                <v-list-tile-title>
                                    Past Assignments
                                </v-list-tile-title>
                            </v-list-tile-content>
                        </v-list-tile>
                        {% if user.teachingassistantprofile %}
                            <v-layout row align-center>
                                <v-flex xs6>
                                    <v-subheader>
                                        Courses
                                    </v-subheader>
                                </v-flex>
                            </v-layout>
                            {% for course in user.teachingassistantprofile.course_set.all %}
                                <v-list-tile href="{{ course.get_absolute_url }}">
                                    <v-list-tile-action>
                                        <v-icon>content_copy</v-icon>
                                    </v-list-tile-action>
                                    <v-list-tile-content>
                                        <v-list-tile-title>
                                            {{ course.course_code }}
                                        </v-list-tile-title>
                                    </v-list-tile-content>
                                </v-list-tile>
                            {% endfor %}
                        {% endif %}
                    </template>
                </v-list>
            </v-navigation-drawer>
            <v-toolbar
                    :clipped-left="$vuetify.breakpoint.lgAndUp"
                    color="blue darken-3"
                    dark
                    app
                    fixed>
                <v-toolbar-title style="width: 300px" class="ml-0 pl-3">
                    <v-toolbar-side-icon @click.stop="drawer = !drawer"></v-toolbar-side-icon>
                    <span class="hidden-sm-and-down">{% block toolbar_title %}TA Management Portal{% endblock %}</span>
                </v-toolbar-title>
                <v-text-field
                        flat
                        solo-inverted
                        prepend-icon="search"
                        label="Search"
                        class="hidden-sm-and-down"
                ></v-text-field>
                <v-spacer></v-spacer>
                <v-tooltip bottom>
                    <v-btn slot="activator" icon>
                        <v-icon>notifications</v-icon>
                    </v-btn>
                    <span>Notifications</span>
                </v-tooltip>
                <v-tooltip bottom>
                    <v-btn slot="activator" :href="'{% url 'frontend:logout' %}'" icon>
                        <v-icon>remove_circle</v-icon>
                    </v-btn>
                    <span>Logout</span>
                </v-tooltip>
                <span>{{ user.get_full_name }}</span>
                <v-btn slot="activator" icon>
                    <v-icon>keyboard_arrow_down</v-icon>
                </v-btn>
            </v-toolbar>
            {% block vue_content %}
            {% endblock %}
        </v-app>
    {% endblock %}
</div>
{% block scripts %}
    <script src="{% static 'js/vue.js' %}"></script>
    <script src="{% static 'js/vuetify.js' %}"></script>
    {% block app_script %}
        <script>
            new Vue({
                el: "#app",
                data: () => ({
                    dialog: false,
                    drawer: null
                }),
                props: {
                    source: String
                }
            })
        </script>
    {% endblock %}
{% endblock %}
</body>
</html>